{"ast":null,"code":"var _jsxFileName = \"/Users/hamd/Desktop/Github personal Projects/assignment-07-lotion-plus-hamd-and-dominic/src/Layout.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { Outlet, useNavigate, Link, Navigate } from \"react-router-dom\";\nimport NoteList from \"./NoteList\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { currentDate } from \"./utils\";\nimport { GoogleLogin, googleLogout, useGoogleLogin } from '@react-oauth/google';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst localStorageKey = \"lotion-v1\";\nfunction Layout() {\n  _s();\n  const navigate = useNavigate();\n  const mainContainerRef = useRef(null);\n  const [collapse, setCollapse] = useState(false);\n  const [notes, setNotes] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [currentNote, setCurrentNote] = useState(-1);\n  const [userdata, setUserData] = useState(null);\n  const [user, setUser] = useState([]);\n  const [activeUser, setactiveUser] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    if (currentNote < 0) {\n      return;\n    }\n    if (!editMode) {\n      navigate(`/notes/${currentNote + 1}`);\n      return;\n    }\n    navigate(`/notes/${currentNote + 1}/edit`);\n  }, [notes]);\n  useEffect(() => {\n    if (user && user.access_token) {\n      axios.get(`https://www.googleapis.com/oauth2/v1/userinfo?access_token=${user.access_token}`, {\n        headers: {\n          Authorization: `Bearer ${user.access_token}`,\n          Accept: 'application/json'\n        }\n      }).then(res => {\n        setUserData(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [user]);\n  useEffect(() => {\n    const fetchNotes = async () => {\n      const email = userdata.email;\n      const res = await fetch(`https://eev5fmrf3juc5xqrxl5fuaipdi0nhtvl.lambda-url.ca-central-1.on.aws?email=${email}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const data = await res.json();\n      setNotes(data.data);\n    };\n    if (userdata) {\n      const email = userdata.email;\n      fetchNotes();\n      localStorage.setItem('userdata', JSON.stringify(userdata));\n    }\n    if (!userdata) {\n      navigate(\"/\");\n    }\n  }, [userdata]);\n  useEffect(() => {\n    const storedToken = localStorage.getItem(localStorageKey);\n    if (storedToken) {\n      setUser(JSON.parse(storedToken));\n      setIsLoggedIn(true);\n    }\n  }, []);\n  const handleLogIn = useGoogleLogin({\n    onSuccess: codeResponse => {\n      setUser(codeResponse);\n      setactiveUser(true);\n      setIsLoggedIn(true);\n      localStorage.setItem(localStorageKey, JSON.stringify(codeResponse));\n    },\n    onError: error => console.log(error)\n  });\n  const handleLogOut = () => {\n    setactiveUser(false);\n    googleLogout();\n    setUserData(null);\n    setIsLoggedIn(false);\n    localStorage.removeItem(localStorageKey);\n  };\n  const saveNote = async (note, index) => {\n    setEditMode(false);\n    note.body = note.body.replaceAll(\"<p><br></p>\", \"\");\n    setNotes([...notes.slice(0, index), {\n      ...note\n    }, ...notes.slice(index + 1)]);\n    setCurrentNote(index);\n    setEditMode(false);\n    const res = await fetch(\"https://vofkoryffcyu45a44tbg7htdle0ckkpv.lambda-url.ca-central-1.on.aws/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: userdata.email,\n        id: note.id,\n        body: note.body,\n        title: note.title,\n        when: note.when\n      })\n    });\n  };\n  const deleteNote = async index => {\n    const noteId = notes[index].id;\n    const email = userdata.email;\n    const res = await fetch(\"https://a3jln4slxtsm3arbpszv576nye0uxtrk.lambda-url.ca-central-1.on.aws/\", {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        ...notes[index]\n      })\n    });\n    setNotes([...notes.slice(0, index), ...notes.slice(index + 1)]);\n    setCurrentNote(0);\n    setEditMode(false);\n  };\n  const addNote = () => {\n    setNotes([{\n      id: uuidv4(),\n      title: \"Untitled\",\n      body: \"\",\n      when: currentDate()\n    }, ...notes]);\n    setEditMode(true);\n    setCurrentNote(0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: userdata ? /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"menu-button\",\n            onClick: () => setCollapse(!collapse),\n            children: \"\\u2630\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"app-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/notes\",\n              children: \"Lotion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            id: \"app-moto\",\n            children: \"Like Notion, but worse.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"user-display\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user\",\n            children: isLoggedIn ? userdata.name : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"logout-btn\",\n            style: {\n              display: isLoggedIn ? \"\" : \"none\"\n            },\n            onClick: () => handleLogOut(),\n            children: \"Log out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"main-container\",\n        ref: mainContainerRef,\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          id: \"sidebar\",\n          className: collapse ? \"hidden\" : null,\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"notes-list-heading\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Notes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 18\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                id: \"new-note-button\",\n                onClick: addNote,\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 18\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"notes-holder\",\n            children: /*#__PURE__*/_jsxDEV(NoteList, {\n              notes: notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"write-box\",\n          children: /*#__PURE__*/_jsxDEV(Outlet, {\n            context: [notes, saveNote, deleteNote]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userlogin\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"menu-button\",\n            onClick: () => setCollapse(!collapse),\n            children: \"\\u2630\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"app-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/notes\",\n              children: \"Lotion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            id: \"app-moto\",\n            children: \"Like Notion, but worse.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n          children: \"\\xA0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-button\",\n        children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n          onSuccess: () => {\n            handleLogIn();\n            setactiveUser(true);\n          },\n          onError: error => console.log(error)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 6\n  }, this);\n}\n_s(Layout, \"1Xfzio37egHvaJ5NiujqhSGeiDs=\", false, function () {\n  return [useNavigate, useGoogleLogin];\n});\n_c = Layout;\nexport default Layout;\nvar _c;\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"names":["useEffect","useRef","useState","Outlet","useNavigate","Link","Navigate","NoteList","v4","uuidv4","currentDate","GoogleLogin","googleLogout","useGoogleLogin","axios","jsxDEV","_jsxDEV","localStorageKey","Layout","_s","navigate","mainContainerRef","collapse","setCollapse","notes","setNotes","editMode","setEditMode","currentNote","setCurrentNote","userdata","setUserData","user","setUser","activeUser","setactiveUser","isLoggedIn","setIsLoggedIn","access_token","get","headers","Authorization","Accept","then","res","data","catch","err","console","log","fetchNotes","email","fetch","method","json","localStorage","setItem","JSON","stringify","storedToken","getItem","parse","handleLogIn","onSuccess","codeResponse","onError","error","handleLogOut","removeItem","saveNote","note","index","body","replaceAll","slice","id","title","when","deleteNote","noteId","addNote","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","to","className","name","style","display","ref","context","_c","$RefreshReg$"],"sources":["/Users/hamd/Desktop/Github personal Projects/assignment-07-lotion-plus-hamd-and-dominic/src/Layout.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { Outlet, useNavigate, Link, Navigate } from \"react-router-dom\";\nimport NoteList from \"./NoteList\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { currentDate } from \"./utils\";\nimport { GoogleLogin,googleLogout, useGoogleLogin } from '@react-oauth/google';\nimport axios from 'axios';\n\n\nconst localStorageKey = \"lotion-v1\";\n\n\nfunction Layout() { \n const navigate = useNavigate();\n const mainContainerRef = useRef(null);\n const [collapse, setCollapse] = useState(false);\n const [notes, setNotes] = useState([]);\n const [editMode, setEditMode] = useState(false);\n const [currentNote, setCurrentNote] = useState(-1);\n const [userdata, setUserData] = useState(null);\n const [user, setUser] = useState([]);\n const [activeUser, setactiveUser] = useState(false);\n const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n\n\n\n useEffect(() => {\n   if (currentNote < 0) {\n     return;\n   }\n   if (!editMode) {\n     navigate(`/notes/${currentNote + 1}`);\n     return;\n   }\n   navigate(`/notes/${currentNote + 1}/edit`);\n }, [notes]);\n\n\n useEffect(\n   () => {\n       if (user && user.access_token) {\n           axios\n               .get(`https://www.googleapis.com/oauth2/v1/userinfo?access_token=${user.access_token}`, {\n                   headers: {\n                       Authorization: `Bearer ${user.access_token}`,\n                       Accept: 'application/json'\n                   }\n               })\n               .then((res) => { setUserData(res.data); })\n               .catch((err) => { console.log(err)});\n       }\n   },[user]);\n\n\n useEffect(() => {\n   const fetchNotes = async () => {\n     const email = userdata.email;\n     const res = await fetch(\n       `https://eev5fmrf3juc5xqrxl5fuaipdi0nhtvl.lambda-url.ca-central-1.on.aws?email=${email}`,\n       {\n         method: \"GET\",\n         headers: {\n           \"Content-Type\":\"application/json\",\n         }\n       }\n     );\n     const data = await res.json();\n     setNotes(data.data);\n   }\n   if (userdata) {\n     const email = userdata.email;\n     fetchNotes();\n     localStorage.setItem('userdata', JSON.stringify(userdata));\n   }\n   if(!userdata) {\n     navigate(\"/\");\n   }\n }, [userdata]);\n  useEffect(() => {\n   const storedToken = localStorage.getItem(localStorageKey);\n   if (storedToken) {\n     setUser(JSON.parse(storedToken));\n     setIsLoggedIn(true);\n   }\n }, []);\n\n\n\n\n const handleLogIn = useGoogleLogin({\n   onSuccess: (codeResponse) => {\n     setUser(codeResponse);\n     setactiveUser(true);\n     setIsLoggedIn(true);\n     localStorage.setItem(localStorageKey, JSON.stringify(codeResponse));\n   },\n   onError: (error) => console.log(error)\n });\n  const handleLogOut = () => {\n   setactiveUser(false);\n   googleLogout();\n   setUserData(null);\n   setIsLoggedIn(false);\n   localStorage.removeItem(localStorageKey);\n };\n \n\n\n const saveNote = async(note, index) => {\n   setEditMode(false);\n   note.body = note.body.replaceAll(\"<p><br></p>\", \"\");\n   setNotes([\n     ...notes.slice(0, index),\n     { ...note },\n     ...notes.slice(index + 1),\n   ]);\n   setCurrentNote(index);\n   setEditMode(false);\n   const res = await fetch(\n      \"https://vofkoryffcyu45a44tbg7htdle0ckkpv.lambda-url.ca-central-1.on.aws/\",\n      {\n         method:\"POST\",\n         headers:{\n           \"Content-Type\":\"application/json\",\n         },\n         body:JSON.stringify({\n           email: userdata.email,\n           id: note.id,\n           body: note.body,\n           title: note.title,\n           when: note.when\n         })\n      }\n   );\n };\n\n\n const deleteNote = async (index) => {\n   const noteId = notes[index].id;\n   const email = userdata.email;\n   const res = await fetch(\n     \"https://a3jln4slxtsm3arbpszv576nye0uxtrk.lambda-url.ca-central-1.on.aws/\",\n     {\n       method: \"DELETE\",\n       headers: {\n         \"Content-Type\":\"application/json\",\n       },\n       body: JSON.stringify({email:email,...notes[index]})\n     }\n   )\n   setNotes([...notes.slice(0, index), ...notes.slice(index + 1)]);\n   setCurrentNote(0);\n   setEditMode(false);\n };\n\n\n const addNote = () => {\n   setNotes([\n     {\n       id: uuidv4(),\n       title: \"Untitled\",\n       body: \"\",\n       when: currentDate(),\n     },\n     ...notes,\n   ]);\n   setEditMode(true);\n   setCurrentNote(0);\n };\n   return (\n     <div>\n       {userdata ? (<div id=\"container\">\n         <header>\n           <aside>\n             <button id=\"menu-button\" onClick={() => setCollapse(!collapse)}>\n               &#9776;\n             </button>\n           </aside>\n           <div id=\"app-header\">\n             <h1>\n               <Link to=\"/notes\">Lotion</Link>\n             </h1>\n             <h6 id=\"app-moto\">Like Notion, but worse.</h6>\n           </div>\n           <div id=\"user-display\">\n             <div className =\"user\">{isLoggedIn ? userdata.name : \"\"}</div>\n             <p className=\"logout-btn\" style={{ display: isLoggedIn ? \"\" : \"none\" }} onClick={() => handleLogOut()}>Log out</p>\n           </div>\n         </header>\n         <div id=\"main-container\" ref={mainContainerRef}>\n           <aside id=\"sidebar\" className={collapse ? \"hidden\" : null}>\n             <header>\n               <div id=\"notes-list-heading\">\n                 <h2>Notes</h2>\n                 <button id=\"new-note-button\" onClick={addNote}>\n                   +\n                 </button>\n               </div>\n             </header>\n             <div id=\"notes-holder\">\n               <NoteList notes={notes} />\n             </div>\n           </aside>\n           <div id=\"write-box\">\n             <Outlet context={[notes, saveNote, deleteNote]} />\n           </div>\n         </div>\n       </div>):(\n         <div className=\"userlogin\">\n           <header>\n           <aside>\n             <button id=\"menu-button\" onClick={() => setCollapse(!collapse)}>\n               &#9776;\n             </button>\n           </aside>\n           <div id=\"app-header\">\n             <h1>\n               <Link to=\"/notes\">Lotion</Link>\n             </h1>\n             <h6 id=\"app-moto\">Like Notion, but worse.</h6>\n           </div>\n           <aside>&nbsp;</aside>\n         </header>\n         <div className=\"login-button\">\n         <GoogleLogin onSuccess={() => {handleLogIn();setactiveUser(true);}}\n           onError={(error) => console.log(error)} />\n       </div>\n         </div>\n         )}\n     </div>\n   );\n}\n\n\nexport default Layout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}